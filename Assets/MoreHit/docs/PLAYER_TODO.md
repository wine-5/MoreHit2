# Playerの実装の方針

## クラス設計概要

### 基本システム
1. **PlayerController** - メイン制御、入力処理、ステート管理
2. **InputManager** - 入力の統合管理、キーバインド設定
3. **PlayerMovement** - 基本移動（WASD）、ジャンプ、バックステップ
4. **PlayerCollider** - プレイヤーの当たり判定処理
5. **PlayerHealth** - HP管理、ダメージ処理、ゲームオーバー判定

### 攻撃システム
5. **IAttack** - 攻撃の共通インターフェース
6. **AttackManager** - 攻撃システムの統括管理
7. **各攻撃クラス** - 具体的な攻撃実装

### 演出システム
8. **PlayerAnimator** - アニメーション制御、表情システム
9. **CameraController** - プレイヤー追従、ボス戦演出

## 実装順序

### Phase 1: 基本システム構築 (最優先)
1. **InputManager** - 入力システムの基盤
2. **PlayerController** - メイン制御クラス
3. **PlayerMovement** - 基本移動とジャンプ
4. **PlayerCollider** - プレイヤーの当たり判定システム
5. **PlayerHealth** - HP管理システム

### Phase 2: 攻撃システム構築
5. **IAttack インターフェース** - 攻撃の基本仕様定義
6. **AttackManager** - 攻撃管理システム
7. **NormalAttack** - 通常攻撃（3段攻撃）
8. **RangedAttack** - サブ攻撃（射撃）
9. **RushAttack** - 突進攻撃
10. **BackstepAttack** - バックステップ（回避行動）

### Phase 3: 特殊攻撃システム
11. **ChargeRushAttack** - 溜め突進攻撃
12. **ChargeRangedAttack** - 溜め射撃攻撃
13. **攻撃のターゲット選択システム** - ストック優先システム

### Phase 4: 演出システム
14. **PlayerAnimator** - アニメーション制御
15. **体力連動表情システム** - 体力に応じた表情変化
16. **CameraController** - カメラ追従システム
17. **撃墜演出システム** - ズーム・ヒットストップ演出

## 各攻撃の詳細仕様

### 通常攻撃（近接攻撃）
- **役割**: メイン攻撃、敵にストック蓄積
- **仕様**: 発生が早い3段攻撃、コンボ可能

### サブ攻撃（射撃）
- **役割**: 遠距離攻撃、ストックキープ
- **仕様**: 距離を取られた際の対応

### 突進攻撃
- **役割**: 距離詰め攻撃
- **仕様**: 前方移動しながらの攻撃

### バックステップ
- **役割**: 回避行動、位置調整
- **仕様**: 後方移動、無敵時間あり、短いクールタイム

### 溜め突進
- **役割**: 接近吹っ飛ばし
- **仕様**: 一気に接近、ストック全消費、強い吹っ飛ばし効果

### 溜め射撃
- **役割**: 遠距離吹っ飛ばし
- **仕様**: 遠距離攻撃、溜め突進より効果弱め

## 特殊システム仕様

### ストック優先システム
- 溜め攻撃は自動的にストックが多い敵を優先ターゲット

### 撃墜演出
- 溜め攻撃ヒット時、ストック蓄積敵が吹っ飛ぶ瞬間にズーム
- スマブラ風の撃墜演出とヒットストップ

### 表情システム
- プレイヤーの体力に応じて表情が変化
- カメラ位置は中央より少し左寄り

## 目標スケジュール
- **完成期限**: 明日午前2時
- **Phase 1**: 今夜中
- **Phase 2**: 深夜1時頃まで
- **Phase 3-4**: 残り時間で可能な範囲